import{a as H,b as j,c as O,e as R,f as A}from"./chunk-3KF55HPP.js";import{F as _,G as k,Ja as D,K as u,L as h,La as M,Qa as $,V as w,W as m,Z as F,_ as y,a as E,b as S,ca as f,fa as B,ha as b,ia as T,ja as n,ka as o,ma as x,oa as d,pa as a,qa as V,ra as r,ta as C,va as v,wa as L,ya as I}from"./chunk-ZTTNRFGP.js";var P=(t,e)=>e.id;function Q(t,e){if(t&1){let l=x();n(0,"li",1)(1,"h3"),r(2,"\u2022"),o(),n(3,"span",2),r(4),o(),n(5,"a",3),r(6),o(),n(7,"p",4),r(8),L(9,"date"),o(),n(10,"div")(11,"button",5),d("click",function(){let s=u(l).$implicit,p=a();return h(p.edit.emit(s))}),r(12,"Edit"),o(),n(13,"button",6),d("click",function(){let s=u(l).$implicit,p=a();return h(p.delete.emit(s.id))}),r(14,"Delete"),o()()()}if(t&2){let l=e.$implicit,i=a();m(4),C("(",i.checklistItemService.getCompletedStateById(l.id),")"),m(1),V("routerLink","/checklist/",l.id,""),m(1),C(" ",l.title," "),m(2),C("upd: ",I(9,4,l.date,"short"),"")}}function Y(t,e){t&1&&(n(0,"p"),r(1,"Click the add button to create your first checklist!"),o())}var G=(()=>{let e=class e{constructor(){this.delete=new y,this.edit=new y,this.checklistItemService=_(R)}};e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=k({type:e,selectors:[["app-checklist-list"]],inputs:{checklists:"checklists"},outputs:{delete:"delete",edit:"edit"},standalone:!0,features:[v],decls:5,vars:1,consts:[[1,"list-group","m-3"],[1,"list-group-item","d-flex","align-items-center","my-2"],[1,"mx-4","my-2"],["href","#",1,"text-decoration-none","mx-5","col-3",3,"routerLink"],[1,"my-2","text-secondary"],[1,"mx-4","btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["class","list-group-item d-flex align-items-center my-2"]],template:function(c,s){c&1&&(n(0,"div")(1,"ul",0),b(2,Q,15,7,"li",7,P,!1,Y,2,0),o()()),c&2&&(m(2),T(s.checklists))},dependencies:[$,M,D],encapsulation:2});let t=e;return t})();function q(t,e){if(t&1){let l=x();n(0,"app-form-modal",7),d("close",function(){u(l);let c=a();return h(c.checklistBeingEdited.set(null))})("save",function(){u(l);let c=a();return h(c.onSaveCheckList())}),o()}if(t&2){let l=a(),i;f("title",(i=l.checklistBeingEdited())!=null&&i.title?l.checklistBeingEdited().title:"Add Checklist")("formGroup",l.checklistForm)}}var ae=(()=>{let e=class e{constructor(){this.formBuilder=_(j),this.checklistService=_(A),this.checklistBeingEdited=w(null),this.checklistForm=this.formBuilder.nonNullable.group({title:[""],description:[""]}),F(()=>{let i=this.checklistBeingEdited();i?this.checklistForm.patchValue({title:i.title,description:i.description}):this.checklistForm.reset()})}onSaveCheckList(){this.checklistBeingEdited()?.id?this.checklistService.edit$.next({id:this.checklistBeingEdited().id,data:S(E({},this.checklistForm.getRawValue()),{date:new Date})}):this.checklistService.add$.next(S(E({},this.checklistForm.getRawValue()),{date:new Date}))}};e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=k({type:e,selectors:[["app-home"]],standalone:!0,features:[v],decls:12,vars:2,consts:[[1,"m-5","border","rounded","shadow-lg"],[1,"d-flex","flex-column","justify-content-center"],[1,"text-center","m-3"],[1,"m-auto","my-5","btn-success","rounded","col-2",3,"click"],[3,"isOpen"],[1,"mx-5"],[3,"checklists","delete","edit"],[3,"title","formGroup","close","save"]],template:function(c,s){c&1&&(n(0,"div",0)(1,"header",1)(2,"h1",2),r(3,"Quicklists"),o(),n(4,"button",3),d("click",function(){return s.checklistBeingEdited.set({})}),r(5,"+ Add Checklist"),o()(),n(6,"app-modal",4),B(7,q,1,2,"ng-template"),o(),n(8,"section",5)(9,"h2"),r(10,"Your checklists"),o(),n(11,"app-checklist-list",6),d("delete",function(g){return s.checklistService.remove$.next(g)})("edit",function(g){return s.checklistBeingEdited.set(g)}),o()()()),c&2&&(m(6),f("isOpen",!!s.checklistBeingEdited()),m(5),f("checklists",s.checklistService.checklists()))},dependencies:[H,O,G],encapsulation:2});let t=e;return t})();export{ae as default};
